(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/Users/vadimivlev/Projects/_projects/govwiki.us/coffee/govselector.coffee":[function(require,module,exports){
var GovSelector, query_matcher,
  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

query_matcher = require('./querymatcher.coffee');

GovSelector = (function() {
  GovSelector.prototype.on_selected = function(evt, data, name) {};

  function GovSelector(html_selector, docs_url, num_items) {
    this.html_selector = html_selector;
    this.num_items = num_items;
    this.startSuggestion = bind(this.startSuggestion, this);
    $.ajax({
      url: docs_url,
      dataType: 'json',
      cache: true,
      success: this.startSuggestion
    });
  }

  GovSelector.prototype.suggestionTemplate = Handlebars.compile("<div class=\"sugg-box\">\n<p><span class=\"sugg-main\">{{{gov_name}}}</span> \n<span class=\"sugg-small\">{{{state}}} &nbsp;{{{gov_type}}}</span>\n</p>\n</div>");

  GovSelector.prototype.entered_value = "";

  GovSelector.prototype.startSuggestion = function(govs) {
    $('.typeahead').keyup((function(_this) {
      return function(event) {
        return _this.entered_value = $(event.target).val();
      };
    })(this));
    $(this.html_selector).attr('placeholder', 'GOVERNMENT NAME');
    $(this.html_selector).typeahead({
      hint: false,
      highlight: false,
      minLength: 1
    }, {
      name: 'gov_name',
      displayKey: 'gov_name',
      source: query_matcher(govs, this.num_items),
      templates: {
        suggestion: this.suggestionTemplate
      }
    }).on('typeahead:selected', (function(_this) {
      return function(evt, data, name) {
        $('.typeahead').typeahead('val', _this.entered_value);
        return _this.on_selected(evt, data, name);
      };
    })(this)).on('typeahead:cursorchanged', (function(_this) {
      return function(evt, data, name) {
        return $('.typeahead').val(_this.entered_value);
      };
    })(this));
  };

  return GovSelector;

})();

module.exports = GovSelector;



},{"./querymatcher.coffee":"/Users/vadimivlev/Projects/_projects/govwiki.us/coffee/querymatcher.coffee"}],"/Users/vadimivlev/Projects/_projects/govwiki.us/coffee/jquery.govselector.coffee":[function(require,module,exports){
(function($) {
  $.govselector = function(el, options) {
    var base, blur, delay, onkeyup;
    base = this;
    base.$el = $(el);
    base.el = el;
    base.$el.data('govselector', base);
    delay = (function() {
      var timer;
      timer = 0;
      return function(callback, ms) {
        clearTimeout(timer);
        timer = setTimeout(callback, ms);
      };
    })();
    onkeyup = function(event) {
      switch (event.which) {
        case 13:
          event.preventDefault();
          $('.typeahead').typeahead('val', base.$el.val());
          $('.typeahead').typeahead('open');
          break;
        case 27:
          $('.typeahead').typeahead('close');
          break;
        case 38:
          break;
        case 40:
          break;
        default:
          $('.typeahead').typeahead('val', base.$el.val());
          $('.typeahead').typeahead('open');
      }
      console.log(event.which);
    };
    blur = function(event) {
      return console.log('blur');
    };
    base.init = function() {
      base.options = $.extend({}, $.govselector.defaultOptions, options);
      base.$el.css('background-color', 'white');
      base.$el.keyup(onkeyup);
      base.$el.blur(onblur);
    };
    base.init();
  };
  $.govselector.defaultOptions = {
    rows: 5,
    template: '{{}}'
  };
  $.fn.govselector = function(options) {
    return this.each(function() {
      new $.govselector(this, options);
    });
  };
  $.fn.getgovselector = function() {
    this.data('govselector');
  };
})(jQuery);



},{}],"/Users/vadimivlev/Projects/_projects/govwiki.us/coffee/main.coffee":[function(require,module,exports){

/*
file: main.coffe -- The entry -----------------------------------------------------------------------------------
  :
gov_finder = new GovFinder
gov_details = new GovDetails
gov_finder.on_select = gov_details.show
-----------------------------------------------------------------------------------------------------------------
 */
var GovSelector, Templates, _jqgs, get_record, gov_selector, templates;

GovSelector = require('./govselector.coffee');

_jqgs = require('./jquery.govselector.coffee');

Templates = require('./templates.coffee');

gov_selector = new GovSelector('.typeahead', 'data/h_types.json', 7);

templates = new Templates;

gov_selector.on_selected = function(evt, data, name) {
  $('#details').html(templates.get_html(0, data));
  get_record("inc_id:" + data["inc_id"]);
};

get_record = function(query) {
  return $.ajax({
    url: "https://api.mongolab.com/api/1/databases/govwiki/collections/govs/?q={" + query + "}&f={_id:0}&l=1&apiKey=0Y5X_Qk2uOJRdHJWJKSRWk6l6JqVTS2y",
    dataType: 'json',
    cache: true,
    success: function(data) {
      if (data.length) {
        $('#details').html(templates.get_html(0, data[0]));
      }
    }
  });
};



},{"./govselector.coffee":"/Users/vadimivlev/Projects/_projects/govwiki.us/coffee/govselector.coffee","./jquery.govselector.coffee":"/Users/vadimivlev/Projects/_projects/govwiki.us/coffee/jquery.govselector.coffee","./templates.coffee":"/Users/vadimivlev/Projects/_projects/govwiki.us/coffee/templates.coffee"}],"/Users/vadimivlev/Projects/_projects/govwiki.us/coffee/querymatcher.coffee":[function(require,module,exports){
var QueryMather, full_trim, get_words, get_words_regs, select_text, strip, strongify;

QueryMather = function(docs, num_items) {
  if (num_items == null) {
    num_items = 5;
  }
  return function(q, cb) {
    var d, j, len, matches, ref, regs, test_string, words;
    test_string = function(s, regs) {
      var j, len, r;
      for (j = 0, len = regs.length; j < len; j++) {
        r = regs[j];
        if (!r.test(s)) {
          return false;
        }
      }
      return true;
    };
    ref = get_words_regs(q), words = ref[0], regs = ref[1];
    matches = [];
    for (j = 0, len = docs.length; j < len; j++) {
      d = docs[j];
      if (matches.length >= num_items) {
        break;
      }
      if (test_string(d.gov_name, regs)) {
        matches.push($.extend({}, d));
      }
    }
    select_text(matches, words, regs);
    cb(matches);
  };
};

select_text = function(clones, words, regs) {
  var d, j, len;
  for (j = 0, len = clones.length; j < len; j++) {
    d = clones[j];
    d.gov_name = strongify(d.gov_name, words, regs);
  }
  return clones;
};

strongify = function(s, words, regs) {
  regs.forEach(function(r, i) {
    return s = s.replace(r, "<b>" + words[i] + "</b>");
  });
  return s;
};

strip = function(s) {
  return s.replace(/<[^<>]*>/g, '');
};

full_trim = function(s) {
  var ss;
  ss = s.trim('' + s);
  return ss = ss.replace(/ +/g, ' ');
};

get_words = function(str) {
  return full_trim(str).split(' ');
};

get_words_regs = function(str) {
  var regs, words;
  words = get_words(str);
  regs = words.map(function(w) {
    return new RegExp("" + w, 'ig');
  });
  return [words, regs];
};

module.exports = QueryMather;



},{}],"/Users/vadimivlev/Projects/_projects/govwiki.us/coffee/templates.coffee":[function(require,module,exports){

/*
 * file: templates.coffee ----------------------------------------------------------------------
#
 * Class to manage templates and render data on html page.
#
 * The main method : render(data), get_html(data)
#-------------------------------------------------------------------------------------------------
 */
var Template, Templates;

Template = (function() {
  var load_template;

  Template.name = null;

  Template.text = null;

  Template.url = null;

  Template.template = null;

  function Template(name1, url1, text1) {
    this.name = name1;
    this.url = url1;
    this.text = text1;
    if (this.text) {
      this.compile();
    } else {
      load_template();
    }
    return this;
  }

  Template.prototype.compile = function() {
    this.template = this.text ? Handlebars.compile(this.text) : null;
    return this;
  };

  Template.prototype.set_text = function(text) {
    this.text = text;
    return compile();
  };

  Template.prototype.get_html = function(data) {
    var html;
    return html = this.template ? this.template(data) : "";
  };

  load_template = function(url) {
    $.ajax({
      url: url,
      dataType: 'text',
      cache: true,
      success: function(data) {
        console.log("template " + Template.name + " is loaded.");
        Template.set_text(data);
      }
    });
    return Template;
  };

  return Template;

})();

Templates = (function() {
  var make_simple_template, make_simple_template2;

  Templates.list = void 0;

  function Templates() {
    var txt0;
    this.list = [];
    txt0 = make_simple_template2(layout0);
    this.add("simple", null, txt0);
  }

  make_simple_template = function(fields) {
    var tt, txt;
    txt = "{{#each fields}}\n<p><span class='f-nam'>{{this}}</span><span class='f-val'>vvv</span></p>\n\n{{/each}}";
    tt = Handlebars.compile(txt);
    return tt(fields);
  };

  make_simple_template2 = function(fields) {
    var f, j, len, makeFieldHtml, ss;
    makeFieldHtml = function(n) {
      var link, s;
      link = function(n) {
        var ss;
        ss = '';
        if (n !== "web_site") {
          ss = "{{{" + n + "}}}";
        } else {
          ss = '<a target="_blank" href="{{' + n + '}}">{{{' + n + '}}}</a>';
        }
        return ss;
      };
      s = '{{#if ' + n + '}}\n';
      s += "<p><span class='f-nam'>" + fieldNames[n] + "</span><span class='f-val'>" + (link(n)) + "</span></p>\n";
      s += '{{/if}}\n';
      return s;
    };
    ss = '';
    for (j = 0, len = fields.length; j < len; j++) {
      f = fields[j];
      ss += makeFieldHtml(f);
    }
    return ss;
  };

  Templates.prototype.add = function(name, url, text) {
    return this.list.push(new Template(name, url, text));
  };

  Templates.prototype.get_names = function() {
    var j, len, ref, results, t;
    ref = this.list;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      t = ref[j];
      if (t.template) {
        results.push(t.name);
      }
    }
    return results;
  };

  Templates.prototype.get_index_by_name = function(name) {
    var i, j, len, ref, t;
    ref = this.list;
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      t = ref[i];
      if (t.name === name) {
        return i;
      }
    }
    return -1;
  };

  Templates.prototype.get_html = function(ind, data) {
    if (ind === -1) {
      return "";
    } else {
      return this.list[ind].get_html(data);
    }
  };

  return Templates;

})();

module.exports = Templates;



},{}]},{},["/Users/vadimivlev/Projects/_projects/govwiki.us/coffee/main.coffee"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Vzci9sb2NhbC9saWIvbm9kZV9tb2R1bGVzL3dhdGNoaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvdmFkaW1pdmxldi9Qcm9qZWN0cy9fcHJvamVjdHMvZ292d2lraS51cy9jb2ZmZWUvZ292c2VsZWN0b3IuY29mZmVlIiwiL1VzZXJzL3ZhZGltaXZsZXYvUHJvamVjdHMvX3Byb2plY3RzL2dvdndpa2kudXMvY29mZmVlL2pxdWVyeS5nb3ZzZWxlY3Rvci5jb2ZmZWUiLCIvVXNlcnMvdmFkaW1pdmxldi9Qcm9qZWN0cy9fcHJvamVjdHMvZ292d2lraS51cy9jb2ZmZWUvbWFpbi5jb2ZmZWUiLCIvVXNlcnMvdmFkaW1pdmxldi9Qcm9qZWN0cy9fcHJvamVjdHMvZ292d2lraS51cy9jb2ZmZWUvcXVlcnltYXRjaGVyLmNvZmZlZSIsIi9Vc2Vycy92YWRpbWl2bGV2L1Byb2plY3RzL19wcm9qZWN0cy9nb3Z3aWtpLnVzL2NvZmZlZS90ZW1wbGF0ZXMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsSUFBQSwwQkFBQTtFQUFBLGdGQUFBOztBQUFBLGFBQUEsR0FBZ0IsT0FBQSxDQUFRLHVCQUFSLENBQWhCLENBQUE7O0FBQUE7QUFLRSx3QkFBQSxXQUFBLEdBQWEsU0FBQyxHQUFELEVBQU0sSUFBTixFQUFZLElBQVosR0FBQSxDQUFiLENBQUE7O0FBR2EsRUFBQSxxQkFBQyxhQUFELEVBQWlCLFFBQWpCLEVBQTJCLFNBQTNCLEdBQUE7QUFDWCxJQURZLElBQUMsQ0FBQSxnQkFBRCxhQUNaLENBQUE7QUFBQSxJQURzQyxJQUFDLENBQUEsWUFBRCxTQUN0QyxDQUFBO0FBQUEsMkRBQUEsQ0FBQTtBQUFBLElBQUEsQ0FBQyxDQUFDLElBQUYsQ0FDRTtBQUFBLE1BQUEsR0FBQSxFQUFLLFFBQUw7QUFBQSxNQUNBLFFBQUEs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SSxTQUFDLElBQUQsRUFBTyxHQUFQLEVBQVksSUFBWixHQUFBO1dBQ0YsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFOLENBQWUsSUFBQSxRQUFBLENBQVMsSUFBVCxFQUFlLEdBQWYsRUFBb0IsSUFBcEIsQ0FBZixFQURFO0VBQUEsQ0E1Q0osQ0FBQTs7QUFBQSxzQkErQ0EsU0FBQSxHQUFXLFNBQUEsR0FBQTtBQUNULFFBQUEsdUJBQUE7QUFBQztBQUFBO1NBQUEscUNBQUE7aUJBQUE7VUFBMkIsQ0FBQyxDQUFDO0FBQTdCLHFCQUFBLENBQUMsQ0FBQyxLQUFGO09BQUE7QUFBQTttQkFEUTtFQUFBLENBL0NYLENBQUE7O0FBQUEsc0JBa0RBLGlCQUFBLEdBQW1CLFNBQUMsSUFBRCxHQUFBO0FBQ2pCLFFBQUEsaUJBQUE7QUFBQTtBQUFBLFNBQUEsNkNBQUE7aUJBQUE7QUFDRSxNQUFBLElBQUcsQ0FBQyxDQUFDLElBQUYsS0FBVSxJQUFiO0FBQ0UsZUFBTyxDQUFQLENBREY7T0FERjtBQUFBLEtBQUE7QUFHQSxXQUFPLENBQUEsQ0FBUCxDQUppQjtFQUFBLENBbERuQixDQUFBOztBQUFBLHNCQXdEQSxRQUFBLEdBQVUsU0FBQyxHQUFELEVBQU0sSUFBTixHQUFBO0FBQ0QsSUFBQSxJQUFJLEdBQUEsS0FBTyxDQUFBLENBQVg7YUFBcUIsR0FBckI7S0FBQSxNQUFBO2FBQTZCLElBQUMsQ0FBQSxJQUFLLENBQUEsR0FBQSxDQUFJLENBQUMsUUFBWCxDQUFvQixJQUFwQixFQUE3QjtLQURDO0VBQUEsQ0F4RFYsQ0FBQTs7bUJBQUE7O0lBdkRGLENBQUE7O0FBQUEsTUFvSE0sQ0FBQyxPQUFQLEdBQWlCLFNBcEhqQixDQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInF1ZXJ5X21hdGNoZXIgPSByZXF1aXJlKCcuL3F1ZXJ5bWF0Y2hlci5jb2ZmZWUnKVxuXG5jbGFzcyBHb3ZTZWxlY3RvclxuICBcbiAgIyBzdHViIG9mIGEgY2FsbGJhY2sgdG8gZW52b2tlIHdoZW4gdGhlIHVzZXIgc2VsZWN0cyBzb21ldGhpbmdcbiAgb25fc2VsZWN0ZWQ6IChldnQsIGRhdGEsIG5hbWUpIC0+XG5cblxuICBjb25zdHJ1Y3RvcjogKEBodG1sX3NlbGVjdG9yLCBkb2NzX3VybCwgQG51bV9pdGVtcykgLT5cbiAgICAkLmFqYXhcbiAgICAgIHVybDogZG9jc191cmxcbiAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgIGNhY2hlOiB0cnVlXG4gICAgICBzdWNjZXNzOiBAc3RhcnRTdWdnZXN0aW9uXG4gICAgICBcblxuXG5cbiAgc3VnZ2VzdGlvblRlbXBsYXRlIDogSGFuZGxlYmFycy5jb21waWxlKFwiXCJcIlxuICAgIDxkaXYgY2xhc3M9XCJzdWdnLWJveFwiPlxuICAgIDxwPjxzcGFuIGNsYXNzPVwic3VnZy1tYWluXCI+e3t7Z292X25hbWV9fX08L3NwYW4+IFxuICAgIDxzcGFuIGNsYXNzPVwic3VnZy1zbWFsbFwiPnt7e3N0YXRlfX19ICZuYnNwO3t7e2dvdl90eXBlfX19PC9zcGFuPlxuICAgIDwvcD5cbiAgICA8L2Rpdj5cIlwiXCIpXG5cbiAgZW50ZXJlZF92YWx1ZTpcIlwiXG5cbiAgc3RhcnRTdWdnZXN0aW9uIDogKGdvdnMpID0+XG4gICAgXG4gICAgJCgnLnR5cGVhaGVhZCcpLmtleXVwIChldmVudCkgPT5cbiAgICAgIEBlbnRlcmVkX3ZhbHVlID0gJChldmVudC50YXJnZXQpLnZhbCgpXG4gICAgXG4gICAgJChAaHRtbF9zZWxlY3RvcikuYXR0ciAncGxhY2Vob2xkZXInLCAnR09WRVJOTUVOVCBOQU1FJ1xuICAgICQoQGh0bWxfc2VsZWN0b3IpLnR5cGVhaGVhZChcbiAgICAgICAgaGludDogZmFsc2VcbiAgICAgICAgaGlnaGxpZ2h0OiBmYWxzZVxuICAgICAgICBtaW5MZW5ndGg6IDFcbiAgICAgICxcbiAgICAgICAgbmFtZTogJ2dvdl9uYW1lJ1xuICAgICAgICBkaXNwbGF5S2V5OiAnZ292X25hbWUnXG4gICAgICAgIHNvdXJjZTogcXVlcnlfbWF0Y2hlcihnb3ZzLCBAbnVtX2l0ZW1zKVxuICAgICAgICAjc291cmNlOiBibG9vZGhvdW5kLnR0QWRhcHRlcigpXG4gICAgICAgIHRlbXBsYXRlczogc3VnZ2VzdGlvbjogQHN1Z2dlc3Rpb25UZW1wbGF0ZVxuICAgIClcbiAgICAub24gJ3R5cGVhaGVhZDpzZWxlY3RlZCcsICAoZXZ0LCBkYXRhLCBuYW1lKSA9PlxuICAgICAgICAkKCcudHlwZWFoZWFkJykudHlwZWFoZWFkICd2YWwnLCBAZW50ZXJlZF92YWx1ZVxuICAgICAgICBAb25fc2VsZWN0ZWQoZXZ0LCBkYXRhLCBuYW1lKVxuICAgXG4gICAgLm9uICd0eXBlYWhlYWQ6Y3Vyc29yY2hhbmdlZCcsIChldnQsIGRhdGEsIG5hbWUpID0+XG4gICAgICAgICQoJy50eXBlYWhlYWQnKS52YWwgQGVudGVyZWRfdmFsdWVcbiAgICBcblxuICAgIHJldHVyblxuXG5cblxuXG5cbm1vZHVsZS5leHBvcnRzPUdvdlNlbGVjdG9yXG5cblxuIiwiKCgkKSAtPlxuXG4gICQuZ292c2VsZWN0b3IgPSAoZWwsIG9wdGlvbnMpIC0+XG5cbiAgICAjIFRvIGF2b2lkIHNjb3BlIGlzc3VlcywgdXNlICdiYXNlJyBpbnN0ZWFkIG9mICd0aGlzJ1xuICAgICMgdG8gcmVmZXJlbmNlIHRoaXMgY2xhc3MgZnJvbSBpbnRlcm5hbCBldmVudHMgYW5kIGZ1bmN0aW9ucy5cbiAgICBiYXNlID0gdGhpc1xuICAgIFxuICAgIFxuICAgICMgQWNjZXNzIHRvIGpRdWVyeSBhbmQgRE9NIHZlcnNpb25zIG9mIGVsZW1lbnRcbiAgICBiYXNlLiRlbCA9ICQoZWwpXG4gICAgYmFzZS5lbCA9IGVsXG4gICAgXG4gICAgXG4gICAgIyBBZGQgYSByZXZlcnNlIHJlZmVyZW5jZSB0byB0aGUgRE9NIG9iamVjdFxuICAgIGJhc2UuJGVsLmRhdGEgJ2dvdnNlbGVjdG9yJywgYmFzZVxuXG4gICAgIyBkZWxheSB1c2FnZVxuICAgICMkKCdpbnB1dCcpLmtleXVwIC0+XG4gICAgIyAgZGVsYXkgKC0+IGFsZXJ0ICdUaW1lIGVsYXBzZWQhJzsgcmV0dXJuKSwgMTAwMFxuICAgICMgIHJldHVyblxuICAgICAgXG4gICAgZGVsYXkgPSBkbyAtPlxuICAgICAgdGltZXIgPSAwXG4gICAgICAoY2FsbGJhY2ssIG1zKSAtPlxuICAgICAgICBjbGVhclRpbWVvdXQgdGltZXJcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBtcylcbiAgICAgICAgcmV0dXJuXG4gICAgXG4gICAgb25rZXl1cCA9IChldmVudCkgLT5cbiAgICAgIHN3aXRjaCAgZXZlbnQud2hpY2hcbiAgICAgICAgIyBFbnRlclxuICAgICAgICB3aGVuIDEzXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICQoJy50eXBlYWhlYWQnKS50eXBlYWhlYWQgJ3ZhbCcsIGJhc2UuJGVsLnZhbCgpXG4gICAgICAgICAgJCgnLnR5cGVhaGVhZCcpLnR5cGVhaGVhZCAnb3BlbidcbiAgICAgICAgIyBFc2NcbiAgICAgICAgd2hlbiAyN1xuICAgICAgICAgICQoJy50eXBlYWhlYWQnKS50eXBlYWhlYWQgJ2Nsb3NlJ1xuICAgICAgICAjIFVwXG4gICAgICAgIHdoZW4gMzggdGhlblxuICAgICAgICAjIERvd25cbiAgICAgICAgd2hlbiA0MCB0aGVuXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAkKCcudHlwZWFoZWFkJykudHlwZWFoZWFkICd2YWwnLCBiYXNlLiRlbC52YWwoKVxuICAgICAgICAgICQoJy50eXBlYWhlYWQnKS50eXBlYWhlYWQgJ29wZW4nXG4gICAgICAjZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgY29uc29sZS5sb2cgZXZlbnQud2hpY2hcbiAgICAgIHJldHVyblxuXG4gICAgYmx1ciA9IChldmVudCkgLT5cbiAgICAgIGNvbnNvbGUubG9nICdibHVyJ1xuICAgIFxuICAgIGJhc2UuaW5pdCA9IC0+XG4gICAgICBiYXNlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5nb3ZzZWxlY3Rvci5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucylcbiAgICAgICMgUHV0IHlvdXIgaW5pdGlhbGl6YXRpb24gY29kZSBoZXJlXG4gICAgICBiYXNlLiRlbC5jc3MgJ2JhY2tncm91bmQtY29sb3InLCAnd2hpdGUnXG4gICAgICBiYXNlLiRlbC5rZXl1cCBvbmtleXVwXG4gICAgICBiYXNlLiRlbC5ibHVyIG9uYmx1clxuXG4gICAgICByZXR1cm5cblxuICAgIFxuICAgICMgU2FtcGxlIEZ1bmN0aW9uLCBVbmNvbW1lbnQgdG8gdXNlXG4gICAgIyBiYXNlLmZ1bmN0aW9uTmFtZSA9IGZ1bmN0aW9uKHBhcmFtYXRlcnMpe1xuICAgICNcbiAgICAjIH07XG4gICAgXG4gICAgXG4gICAgIyBSdW4gaW5pdGlhbGl6ZXJcbiAgICBiYXNlLmluaXQoKVxuICAgIHJldHVyblxuXG4gICAgXG4gICQuZ292c2VsZWN0b3IuZGVmYXVsdE9wdGlvbnMgPVxuICAgIHJvd3M6IDVcbiAgICB0ZW1wbGF0ZTogJ3t7fX0nXG5cbiAgICBcbiAgJC5mbi5nb3ZzZWxlY3RvciA9IChvcHRpb25zKSAtPlxuICAgIEBlYWNoIC0+XG4gICAgICBuZXcgKCQuZ292c2VsZWN0b3IpKHRoaXMsIG9wdGlvbnMpXG4gICAgICByZXR1cm5cblxuICAgIFxuICAjIFRoaXMgZnVuY3Rpb24gYnJlYWtzIHRoZSBjaGFpbiwgYnV0IHJldHVybnNcbiAgIyB0aGUgZ292c2VsZWN0b3IgaWYgaXQgaGFzIGJlZW4gYXR0YWNoZWQgdG8gdGhlIG9iamVjdC5cbiAgJC5mbi5nZXRnb3ZzZWxlY3RvciA9IC0+XG4gICAgQGRhdGEgJ2dvdnNlbGVjdG9yJ1xuICAgIHJldHVyblxuXG4gICAgXG4gIHJldHVyblxuKSBqUXVlcnlcbiIsIiMjI1xuZmlsZTogbWFpbi5jb2ZmZSAtLSBUaGUgZW50cnkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgOlxuZ292X2ZpbmRlciA9IG5ldyBHb3ZGaW5kZXJcbmdvdl9kZXRhaWxzID0gbmV3IEdvdkRldGFpbHNcbmdvdl9maW5kZXIub25fc2VsZWN0ID0gZ292X2RldGFpbHMuc2hvd1xuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMjI1xuXG5Hb3ZTZWxlY3RvciA9IHJlcXVpcmUgJy4vZ292c2VsZWN0b3IuY29mZmVlJ1xuI3JlbmRlckRhdGEgID0gcmVxdWlyZSAnLi9kYXRhcmVuZGVyZXIuY29mZmVlJ1xuX2pxZ3MgICAgICAgPSByZXF1aXJlICcuL2pxdWVyeS5nb3ZzZWxlY3Rvci5jb2ZmZWUnXG5UZW1wbGF0ZXMgICAgICA9IHJlcXVpcmUgJy4vdGVtcGxhdGVzLmNvZmZlZSdcblxuZ292X3NlbGVjdG9yID0gbmV3IEdvdlNlbGVjdG9yICcudHlwZWFoZWFkJywgJ2RhdGEvaF90eXBlcy5qc29uJywgN1xudGVtcGxhdGVzID0gbmV3IFRlbXBsYXRlc1xuXG5cblxuZ292X3NlbGVjdG9yLm9uX3NlbGVjdGVkID0gKGV2dCwgZGF0YSwgbmFtZSkgLT5cbiAgI3JlbmRlckRhdGEgJyNkZXRhaWxzJywgZGF0YVxuICAkKCcjZGV0YWlscycpLmh0bWwgdGVtcGxhdGVzLmdldF9odG1sKDAsIGRhdGEpXG4gIGdldF9yZWNvcmQgXCJpbmNfaWQ6I3tkYXRhW1wiaW5jX2lkXCJdfVwiXG4gIHJldHVyblxuXG5cbmdldF9yZWNvcmQgPSAocXVlcnkpIC0+XG4gICQuYWpheFxuICAgIHVybDogXCJodHRwczovL2FwaS5tb25nb2xhYi5jb20vYXBpLzEvZGF0YWJhc2VzL2dvdndpa2kvY29sbGVjdGlvbnMvZ292cy8/cT17I3txdWVyeX19JmY9e19pZDowfSZsPTEmYXBpS2V5PTBZNVhfUWsydU9KUmRISldKS1NSV2s2bDZKcVZUUzJ5XCJcbiAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgY2FjaGU6IHRydWVcbiAgICBzdWNjZXNzOiAoZGF0YSkgLT5cbiAgICAgICNpZiBkYXRhLmxlbmd0aCB0aGVuIHJlbmRlckRhdGEgJyNkZXRhaWxzJywgIGRhdGFbMF1cbiAgICAgIGlmIGRhdGEubGVuZ3RoIHRoZW4gJCgnI2RldGFpbHMnKS5odG1sIHRlbXBsYXRlcy5nZXRfaHRtbCgwLCBkYXRhWzBdKVxuICAgICAgcmV0dXJuXG5cbiMkKCcuZ292JykuZ292c2VsZWN0b3IoKVxuXG4iLCJcblxuXG4jIFRha2VzIGFuIGFycmF5IG9mIGRvY3MgdG8gc2VhcmNoIGluLlxuIyBSZXR1cm5zIGEgZnVuY3Rpb25zIHRoYXQgdGFrZXMgMiBwYXJhbXMgXG4jIHEgLSBxdWVyeSBzdHJpbmcgYW5kIFxuIyBjYiAtIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgc2VhcmNoIGlzIGRvbmUuXG4jIGNiIHJldHVybnMgYW4gYXJyYXkgb2YgbWF0Y2hpbmcgZG9jdW1lbnRzLlxuIyBtdW1faXRlbXMgLSBtYXggbnVtYmVyIG9mIGZvdW5kIGl0ZW1zIHRvIHNob3dcblF1ZXJ5TWF0aGVyID0gKGRvY3MsIG51bV9pdGVtcz01KSAtPlxuICAocSwgY2IpIC0+XG4gICAgdGVzdF9zdHJpbmcgPShzLCByZWdzKSAtPlxuICAgICAgKGlmIG5vdCByLnRlc3QocykgdGhlbiByZXR1cm4gZmFsc2UpICBmb3IgciBpbiByZWdzXG4gICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgW3dvcmRzLHJlZ3NdID0gZ2V0X3dvcmRzX3JlZ3MgcVxuICAgIG1hdGNoZXMgPSBbXVxuICAgICMgaXRlcmF0ZSB0aHJvdWdoIHRoZSBwb29sIG9mIGRvY3MgYW5kIGZvciBhbnkgc3RyaW5nIHRoYXRcbiAgICAjIGNvbnRhaW5zIHRoZSBzdWJzdHJpbmcgYHFgLCBhZGQgaXQgdG8gdGhlIGBtYXRjaGVzYCBhcnJheVxuXG4gICAgZm9yIGQgaW4gZG9jc1xuICAgICAgaWYgbWF0Y2hlcy5sZW5ndGggPj0gbnVtX2l0ZW1zIHRoZW4gYnJlYWtcbiAgICAgIGlmIHRlc3Rfc3RyaW5nKGQuZ292X25hbWUsIHJlZ3MpIHRoZW4gbWF0Y2hlcy5wdXNoICQuZXh0ZW5kKHt9LCBkKVxuICAgIFxuICAgIHNlbGVjdF90ZXh0IG1hdGNoZXMsIHdvcmRzLCByZWdzXG4gICAgY2IgbWF0Y2hlc1xuICAgIHJldHVyblxuIFxuXG4jIGluc2VydHMgPHN0cm9uZz4gZWxlbWVudHNlIGluIGFycmF5XG5zZWxlY3RfdGV4dCA9IChjbG9uZXMsd29yZHMscmVncykgLT5cbiAgZm9yIGQgaW4gY2xvbmVzXG4gICAgZC5nb3ZfbmFtZT1zdHJvbmdpZnkoZC5nb3ZfbmFtZSwgd29yZHMsIHJlZ3MpXG4gIFxuICByZXR1cm4gY2xvbmVzXG5cblxuXG4jIGluc2VydHMgPHN0cm9uZz4gZWxlbWVudHNlXG5zdHJvbmdpZnkgPSAocywgd29yZHMsIHJlZ3MpIC0+XG4gIHJlZ3MuZm9yRWFjaCAocixpKSAtPlxuICAgIHMgPSBzLnJlcGxhY2UgciwgXCI8Yj4je3dvcmRzW2ldfTwvYj5cIlxuICByZXR1cm4gc1xuXG4jIHJlbW92ZXMgPD4gdGFncyBmcm9tIGEgc3RyaW5nXG5zdHJpcCA9IChzKSAtPlxuICBzLnJlcGxhY2UoLzxbXjw+XSo+L2csJycpXG5cblxuIyBhbGwgdGlybXMgc3BhY2VzIGZyb20gYm90aCBzaWRlcyBhbmQgbWFrZSBjb250cmFjdHMgc2VxdWVuY2VzIG9mIHNwYWNlcyB0byAxXG5mdWxsX3RyaW0gPSAocykgLT5cbiAgc3M9cy50cmltKCcnK3MpXG4gIHNzPXNzLnJlcGxhY2UoLyArL2csJyAnKVxuXG4jIHJldHVybnMgYW4gYXJyYXkgb2Ygd29yZHMgaW4gYSBzdHJpbmdcbmdldF93b3JkcyA9IChzdHIpIC0+XG4gIGZ1bGxfdHJpbShzdHIpLnNwbGl0KCcgJylcblxuXG5nZXRfd29yZHNfcmVncyA9IChzdHIpIC0+XG4gIHdvcmRzID0gZ2V0X3dvcmRzIHN0clxuICByZWdzID0gd29yZHMubWFwICh3KS0+IG5ldyBSZWdFeHAoXCIje3d9XCIsJ2lnJylcbiAgW3dvcmRzLHJlZ3NdXG5cblxubW9kdWxlLmV4cG9ydHMgPSBRdWVyeU1hdGhlclxuXG4iLCJcbiMjI1xuIyBmaWxlOiB0ZW1wbGF0ZXMuY29mZmVlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiNcbiMgQ2xhc3MgdG8gbWFuYWdlIHRlbXBsYXRlcyBhbmQgcmVuZGVyIGRhdGEgb24gaHRtbCBwYWdlLlxuI1xuIyBUaGUgbWFpbiBtZXRob2QgOiByZW5kZXIoZGF0YSksIGdldF9odG1sKGRhdGEpXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyMjXG5cbiMgRXNzZW50aWFsbHkgYSBwYWlyIG5hbWUgLSBjb21waWxlZCB0ZW1wbGF0ZVxuY2xhc3MgVGVtcGxhdGVcbiAgIFxuICBAbmFtZSAgICAgPSBudWxsXG4gIEB0ZXh0ICAgICA9IG51bGxcbiAgQHVybCAgICAgID0gbnVsbFxuICBAdGVtcGxhdGUgPSBudWxsXG5cblxuICBjb25zdHJ1Y3RvciA6KEBuYW1lLEB1cmwsQHRleHQpIC0+XG4gICAgaWYgQHRleHRcbiAgICAgIEBjb21waWxlKClcbiAgICBlbHNlXG4gICAgICBsb2FkX3RlbXBsYXRlKClcbiAgICByZXR1cm4gQFxuXG5cblxuICBjb21waWxlIDogLT5cbiAgICBAdGVtcGxhdGUgPSBpZiBAdGV4dCB0aGVuIEhhbmRsZWJhcnMuY29tcGlsZSBAdGV4dCBlbHNlIG51bGxcbiAgICByZXR1cm4gQFxuICBcblxuICBzZXRfdGV4dDogKHRleHQpIC0+XG4gICAgQHRleHQgPSB0ZXh0XG4gICAgY29tcGlsZSgpXG4gIFxuICBnZXRfaHRtbDooZGF0YSkgLT5cbiAgICBodG1sID0gaWYgQHRlbXBsYXRlIHRoZW4gQHRlbXBsYXRlKGRhdGEpIGVsc2UgXCJcIlxuXG4gIGxvYWRfdGVtcGxhdGUgPSAodXJsKT0+XG4gICAgJC5hamF4XG4gICAgICB1cmw6IHVybFxuICAgICAgZGF0YVR5cGU6ICd0ZXh0J1xuICAgICAgY2FjaGU6IHRydWVcbiAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PlxuICAgICAgICBjb25zb2xlLmxvZyBcInRlbXBsYXRlICN7QG5hbWV9IGlzIGxvYWRlZC5cIlxuICAgICAgICBAc2V0X3RleHQoZGF0YSlcbiAgICAgICAgcmV0dXJuXG4gICAgXG4gICAgcmV0dXJuIEBcblxuXG5cbmNsYXNzIFRlbXBsYXRlc1xuICBcbiAgQGxpc3QgPSB1bmRlZmluZWRcblxuXG4gIGNvbnN0cnVjdG9yOigpIC0+XG4gICAgQGxpc3QgPSBbXVxuICAgIHR4dDAgPSBtYWtlX3NpbXBsZV90ZW1wbGF0ZTIobGF5b3V0MClcbiAgICBAYWRkIFwic2ltcGxlXCIsbnVsbCwgdHh0MFxuICAgICNjb25zb2xlLmxvZyB0eHQwXG5cblxuICBtYWtlX3NpbXBsZV90ZW1wbGF0ZSA9KGZpZWxkcyktPlxuICAgIHR4dCA9XCJcIlwiXG4gICAge3sjZWFjaCBmaWVsZHN9fVxuICAgIDxwPjxzcGFuIGNsYXNzPSdmLW5hbSc+e3t0aGlzfX08L3NwYW4+PHNwYW4gY2xhc3M9J2YtdmFsJz52dnY8L3NwYW4+PC9wPlxcblxuICAgIHt7L2VhY2h9fVxuICAgIFwiXCJcIlxuICAgIHR0ID0gIEhhbmRsZWJhcnMuY29tcGlsZSB0eHRcbiAgICByZXR1cm4gdHQoZmllbGRzKVxuXG5cblxuICBtYWtlX3NpbXBsZV90ZW1wbGF0ZTI9KGZpZWxkcyktPlxuICAgIG1ha2VGaWVsZEh0bWwgPSAobikgLT5cbiAgICAgIGxpbmsgPSAobikgLT5cbiAgICAgICAgc3M9JydcbiAgICAgICAgaWYgbiAhPSBcIndlYl9zaXRlXCJcbiAgICAgICAgICBzcz1cInt7e1wiK24rXCJ9fX1cIlxuICAgICAgICBlbHNlXG4gICAgICAgICAgc3M9JzxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJ7eycgKyBuICsgJ319XCI+e3t7JyArIG4gKyAnfX19PC9hPidcbiAgICAgICAgcmV0dXJuIHNzXG5cbiAgICAgIHMgPSAne3sjaWYgJytuKyd9fVxcbidcbiAgICAgIHMgKz0gXCI8cD48c3BhbiBjbGFzcz0nZi1uYW0nPiN7ZmllbGROYW1lc1tuXX08L3NwYW4+PHNwYW4gY2xhc3M9J2YtdmFsJz4je2xpbmsobil9PC9zcGFuPjwvcD5cXG5cIlxuICAgICAgcyArPSAne3svaWZ9fVxcbidcbiAgICAgIHJldHVybiBzXG4gICAgXG4gICAgc3MgPSAnJ1xuICAgIGZvciBmIGluIGZpZWxkc1xuICAgICAgc3MgKz0gbWFrZUZpZWxkSHRtbChmKVxuICAgIHJldHVybiBzc1xuICAgIFxuXG5cblxuICBhZGQ6KG5hbWUsIHVybCwgdGV4dCkgLT5cbiAgICBAbGlzdC5wdXNoIG5ldyBUZW1wbGF0ZShuYW1lLCB1cmwsIHRleHQpXG5cbiAgZ2V0X25hbWVzOiAtPlxuICAgICh0Lm5hbWUgZm9yIHQgaW4gQGxpc3Qgd2hlbiB0LnRlbXBsYXRlKVxuXG4gIGdldF9pbmRleF9ieV9uYW1lOiAobmFtZSkgLT5cbiAgICBmb3IgdCxpIGluIEBsaXN0XG4gICAgICBpZiB0Lm5hbWUgaXMgbmFtZVxuICAgICAgICByZXR1cm4gaVxuICAgIHJldHVybiAtMVxuXG4gIGdldF9odG1sOiAoaW5kLCBkYXRhKSAtPlxuICAgIHJldHVybiBpZiAoaW5kIGlzIC0xKSB0aGVuICBcIlwiIGVsc2UgQGxpc3RbaW5kXS5nZXRfaHRtbChkYXRhKVxuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBUZW1wbGF0ZXNcbiJdfQ==
